# Составление отчета для учета затраченного времени сотрудников на задачи Bitrix
### Проблема:
Стандартный функционал формирования отчётов по сотрудникам и их занятости на проектах и задачах в Bitrix не позволяет увидеть действительно затраченное время на выполнение работы так как если в процессе выполнения задачи изменился ответственный, сумма часов затраченных на выполнение работы будет засчитана исполнителю который завершил задачу.
### Задача:
Сформировать отчёты на основании данных о наработке сотрудников из корпоративного портала Битрикс 24. Формат представления отчётов Яндекс таблица в которой содержится информация:
- ФИО сотрудника;
- Название проекта;
- Название задачи;
- Планируемые трудозатраты за отчётный период;
- Фактически затраченное время за отчётный период.

При формировании отчёт должен учитывать количество рабочих часов в месяце, а также праздничные и выходные дни. При подсчете количества рабочих, выходных и праздничных дней, а также количества рабочих часов необходимо руководствоваться производственным календарем. В отчёте должна быть возможность выбрать временной интервал формирования отчета с точностью до дня.
### Описание логики процесса:
Проведем декомпозицию задачи
![Alt-текст](/static/Mind_map.jpg)
### Стек технологий:
Python (Flask, Fast_Bitrix, Pandas)
### Инструкция по запуску:
#### Требования к запуску:
- Python 3.6+
- pip3 19.0+
#### Клонирование проекта
git clone https://gitlab.com/PilotSoul/bitrix-yandex.git
#### Установка зависимостей
pip install -r requirements.txt
#### Добавление своих ключей
Создайте .env файл со следующими переменными
<br/>
<img src="/static/pathes.png" width="300">
<br/>
где url - это путь к вашему яндекс диску,
token - токен яндекс приложения,
load_path - локальный путь до отчета,
webhook - вебхук от Bitrix
#### Запуск приложения
python app.py
### В планах:
- оптимизация обработки запросов
